%YAML 1.2
---

PRO:
  base: OperatorTemplate
  equations:
    - "d/dt * r = delta/PI + 2.*r*v"
    - "d/dt * v = v**2 + eta + J * r + I - (PI*r)**2"
  variables:
    r:
      default: output
    v:
      default: variable
    delta:
      default: 1.
    eta:
      default: -2.5
    J:
      default: 15.
    PSP:
      default: input
    I:
      default: variable

RPO_e:
  base: OperatorTemplate
  equations:
    - 'd/dt * PSP = PSP_t'
    - 'd/dt * PSP_t =  h/tau * r_in - (1./tau)**2 * PSP - 2. * 1./tau * PSP_t'
  variables:
    h:
      default: 1.
    tau:
      default: 1.
    r_in:
      default: input
    PSP:
      default: output
    PSP_t:
      default: variable

RPO_i:
  base: OperatorTemplate
  equations:
    - 'd/dt * PSP = PSP_t'
    - 'd/dt * PSP_t =  h/tau * r_in - (1./tau)**2 * PSP - 2. * 1./tau * PSP_t'
  variables:
    h:
      default: -2.0
    tau:
      default: 2.0
    r_in:
      default: input
    PSP:
      default: output
    PSP_t:
      default: variable

PC:
  base: NodeTemplate
  operators:
    - PRO

IIN:
  base: NodeTemplate
  operators:
    - PRO

EIN:
  base: NodeTemplate
  operators:
    - PRO

DummyEdge:
  base: EdgeTemplate
  operators: []

JRC:
  base: CircuitTemplate
  nodes:
    EIN: EIN
    IIN: IIN
    PC: PC
  edges:
    - [PC/PRO/r, IIN/PRO/I, DummyEdge, {weight: 0.25}]
    - [PC/PRO/r, EIN/PRO/I, DummyEdge, {weight: 1.}]
    - [EIN/PRO/r, PC/PRO/I, DummyEdge, {weight: 0.8}]
    - [IIN/PRO/r, PC/PRO/I, DummyEdge, {weight: 0.25}]
